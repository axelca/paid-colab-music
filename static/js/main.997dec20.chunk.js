(this.webpackJsonpipad=this.webpackJsonpipad||[]).push([[0],{44:function(e,t,n){e.exports=n.p+"static/media/thumb.01dcf2b9.svg"},45:function(e,t,n){e.exports=n(98)},50:function(e,t,n){},78:function(e,t){},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(41),c=n.n(i),r=(n(50),n(9)),u=n(3),l=n(42),s=n.n(l),v=n(15),d=n.n(v),f=[{id:0,energy:0,voteCount:0,active:!0,giphyId:"3lxD1O74siiz5FvrJs"},{id:1,energy:16.67,voteCount:0,active:!1,giphyId:"pHYaWbspekVsTKRFQT"},{id:2,energy:33.3,voteCount:0,active:!1,giphyId:"woyPnjW6I3I9W"},{id:3,energy:50,voteCount:0,active:!1,giphyId:"TLqkzhMIZxAQg"},{id:4,energy:66.7,voteCount:0,active:!1,giphyId:"l0MYt5jPR6QX5pnqM"},{id:5,energy:83.3,voteCount:0,active:!1,giphyId:"kgKrO1A3JbWTK"}],m=n(43),g=n.n(m),p=n(44),h=n.n(p),C=function(e){var t=e.data,n=e.onClick,i=t.text,c=t.active,r=t.id,l=t.voteCount,s=t.giphyId,v=s,d=Object(a.useState)({}),f=Object(u.a)(d,2),m=f[0],p=f[1];return Object(a.useEffect)((function(){g.a.get("https://api.giphy.com/v1/gifs/"+v+"?api_key=lUxuo0G2Dg5qHDcas6AXWCY2RY8Y0td7").then((function(e){p(e.data.data)})).catch((function(e){console.log(e)}))}),[i]),m&&m.images?o.a.createElement("div",{onClick:c?null:function(){return n(r)},className:c?"gif active":"gif"},o.a.createElement("img",{src:m.images.fixed_width_downsampled.url})," ",c?o.a.createElement("div",{className:"current"},"Current mood"):null,o.a.createElement("div",{className:"votes"},c?null:o.a.createElement("img",{src:h.a}),c?null:l),c?null:o.a.createElement("div",{className:"inactive"})):o.a.createElement("div",null)},b=(n(97),s()("http://localhost:8000")),y=function(){var e=Object(a.useState)(f),t=Object(u.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(0),l=Object(u.a)(c,2),s=l[0],v=l[1];Object(a.useEffect)((function(){b.emit("new value",s)}),[s]),Object(a.useEffect)((function(){return b.on("new song",(function(e){g(e)})),function(){b.off("news song")}})),Object(a.useEffect)((function(){var e=d()(n,(function(e,t){return e.voteCount>t.voteCount?-1:1})),t=e[0].energy,a=!1;e.map((function(e){e.voteCount>0&&(a=!0)})),a&&v(t)}),[n]);var m=function(e){var t=n.map((function(t){return t.id!==e?t:Object(r.a)({},t,{voteCount:t.voteCount+1})}));i(t)},g=function(){var e=d()(n,(function(e,t){return e.voteCount>t.voteCount?-1:1}))[0].id,t=n.map((function(t){return t.id!==e?Object(r.a)({},t,{active:!1,voteCount:0}):Object(r.a)({},t,{active:!0,voteCount:0})}));i(t)};return o.a.createElement("div",{className:"wrapper",onDoubleClick:function(e){return e.preventDefault()}},o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Control the mood"),o.a.createElement("h3",null,"Be a part of controlling the music by voting for a GIF"),o.a.createElement("div",{className:"gifs"},n.map((function(e){return o.a.createElement(C,{key:e.id,data:e,onClick:m})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.997dec20.chunk.js.map